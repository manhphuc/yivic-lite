// =======================================
// Single post layout – Yivic Lite
// Block: .yivic-lite-post
// Modifier: .yivic-lite-post--single
// =======================================

/* =========================================================
   Float containment (classic + block editor)
   - Prevent floated media (alignleft/alignright) from leaking
     into footer, post navigation, and comments.
   - Uses `flow-root` with a clearfix fallback.
========================================================= */

/* Contain floats inside content wrappers */
.yivic-lite-post__content,
.yivic-lite-page__content,
.entry-content {
  display: flow-root;
}

/* Fallback clearfix (older browsers) */
.yivic-lite-post__content::after,
.yivic-lite-page__content::after,
.entry-content::after {
  content: "";
  display: table;
  clear: both;
}

/* Extra safety: ensure sections after content don't wrap around floats */
.yivic-lite-post__footer,
.yivic-lite-comments,
.yivic-lite-post-nav {
  clear: both;
}

/* =========================================================
   Single post card container + meta links
========================================================= */

.yivic-lite-post--single {
  // Reuse the shared single-card container
  @extend %yivic-single-card;

  .yivic-lite-post__meta {
    a {
      color: $yivic-meta-current-color;
      text-decoration: underline;

      &:hover,
      &:focus {
        color: var(--yivic-focus-color);
        text-decoration-thickness: max(2px, 0.15em);
      }
    }
  }
}

/* =========================================================
   Header (thumbnail + title + meta)
========================================================= */

.yivic-lite-post--single {
  .yivic-lite-post__header {
    margin-bottom: 24px;
  }

  .yivic-lite-post__thumbnail--single {
    width: 100%;
    margin: 0 0 20px;
    border: 1px solid $yivic-post-thumb-border;
    border-radius: 6px;
    overflow: hidden;
    background: $yivic-post-thumb-bg;

    img {
      display: block;
      width: 100%;
      height: auto;
      object-fit: cover;
    }
  }

  .yivic-lite-post__title {
    margin: 0 0 12px;
    font-size: 28px;
    line-height: 1.3;
    font-weight: 700;
    color: $yivic-post-title-color;
  }

  /* Meta line: date + author */
  .yivic-lite-post__meta {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: 4px 16px;
    margin-bottom: 8px;
    font-size: 13px;
    color: $yivic-post-meta-color;
  }

  .yivic-lite-post__meta-item {
    position: relative;
  }

  /* Optional: dot separator for items after the first */
  .yivic-lite-post__meta-item + .yivic-lite-post__meta-item {
    padding-left: 12px;

    &::before {
      content: "";
      position: absolute;
      left: 0;
      top: 50%;
      width: 4px;
      height: 4px;
      border-radius: 50%;
      background: $yivic-post-meta-color;
      transform: translateY(-50%);
    }
  }
}

/* =========================================================
   Content area (the_content / blocks)
========================================================= */

.yivic-lite-post--single {
  .yivic-lite-post__content {
    margin-top: 12px;

    /* Paragraphs */
    p {
      margin: 0 0 1.1em;
    }

    /* Headings */
    h2,
    h3,
    h4,
    h5,
    h6 {
      margin: 1.6em 0 0.75em;
      font-weight: 700;
      color: $yivic-post-title-color;
    }

    h2 { font-size: 24px; }
    h3 { font-size: 20px; }
    h4 { font-size: 18px; }

    /* Lists */
    ul,
    ol {
      margin: 0 0 1.1em 1.4em;
      padding: 0;
    }

    li {
      margin-bottom: 0.3em;
    }

    /* Blockquotes */
    blockquote {
      margin: 1.5em 0;
      padding: 0.75em 1.25em;
      border-left: 3px solid $yivic-header-bg;
      background: rgba(0, 0, 0, 0.02);
      font-style: italic;
    }

    /* Responsive media */
    img {
      max-width: 100%;
      height: auto;
    }

    /* Captions */
    .wp-caption {
      max-width: 100%;
      margin: 1.25em 0;
      text-align: center;

      img {
        margin: 0 auto;
      }

      .wp-caption-text {
        margin-top: 0.5em;
        font-size: 13px;
        color: $yivic-post-meta-color;
      }
    }

    /* Code blocks */
    pre,
    code {
      font-family: Menlo, Monaco, Consolas, "Courier New", monospace;
    }

    pre {
      padding: 12px 16px;
      background: #f5f5f7;
      border-radius: 4px;
      overflow: auto;
      font-size: 14px;
    }

    code {
      padding: 0 3px;
      background: #f5f5f7;
      border-radius: 3px;
    }
  }
}

/* =========================================================
   Paginated post links (<!--nextpage-->)
========================================================= */

.yivic-lite-post--single {
  .yivic-lite-post__pages {
    margin: 24px 0 0;
    font-size: 14px;

    .page-links-title {
      margin-right: 8px;
      font-weight: 600;
    }

    a,
    span {
      display: inline-block;
      margin-right: 6px;
      padding: 4px 10px;
      border-radius: 999px;
      border: 1px solid $yivic-post-border-color;
    }

    a {
      color: $yivic-post-title-color;
      text-decoration: none;
      @include yivic-transition(background-color);

      &:hover,
      &:focus {
        background: $yivic-header-bg;
        color: #fff;
      }
    }

    .current {
      background: $yivic-header-bg;
      border-color: $yivic-header-bg;
      color: #fff;
    }
  }
}

/* =========================================================
   Footer: categories & tags
========================================================= */

.yivic-lite-post--single {
  .yivic-lite-post__footer {
    margin-top: 32px;
    padding-top: 20px;
    border-top: 1px solid $yivic-post-border-color;
    display: flex;
    flex-wrap: wrap;
    gap: 12px 24px;
  }

  .yivic-lite-post__categories,
  .yivic-lite-post__tags {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: 6px;
  }

  .yivic-lite-post__label {
    font-size: 13px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.04em;
    color: $yivic-post-meta-color;
  }

  .yivic-lite-post__value a {
    display: inline-block;
    margin-right: 4px;
    padding: 3px 6px;
    border-radius: 3px;
    background: $yivic-post-chip-bg;
    color: $yivic-post-chip-color;
    font-size: 13px;
    text-decoration: none;
    @include yivic-transition(background-color);

    &:hover,
    &:focus {
      background: $yivic-header-bg;
      color: #fff;
    }
  }
}

/* ============================================================
   Post navigation (mobile-first)
   Block: .yivic-lite-post-nav
============================================================ */

.yivic-lite-post-nav {
  margin: 40px 0 0;
  padding: 20px 0;
  border-top: 1px solid rgba(0, 0, 0, 0.08);

  /* Navigation container generated by WordPress */
  .nav-links {
    display: flex;
    flex-direction: column;
    gap: 14px;
  }

  /* Individual navigation card */
  a {
    display: block;
    width: 100%;
    padding: 16px 18px;
    border-radius: 10px;
    border: 1px solid rgba(0, 0, 0, 0.06);
    background: #fff;
    color: $yivic-post-title-color;
    text-decoration: none;
    font-size: 16px;
    font-weight: 600;
    line-height: 1.4;
    transition: background-color 0.25s ease, border-color 0.25s ease, color 0.25s ease;

    &:hover,
    &:focus {
      background-color: $yivic-header-bg;
      border-color: $yivic-header-bg;
      color: #fff;
    }
  }

  /* Add arrow markers */
  .nav-previous a::before { content: "← "; }
  .nav-next a::after { content: " →"; }
}
